[build]
builder = "NIXPACKS"

[deploy]
healthcheckPath = "/api/stats"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Tối ưu resource limits
[deploy.resources]
# Giới hạn CPU và RAM để kiểm soát chi phí
cpu = 0.25  # 25% CPU thay vì 50%
memory = 256  # 256MB thay vì 512MB

[environments.production.variables]
# Environment-specific variables
DEBUG = "False"
PYTHONUNBUFFERED = "1"
